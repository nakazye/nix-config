* こんな感じで作っていったよログ

** Mac環境
*** 大事な点
作業をする前に、terminalに対してFull Disk Accessの権限を付与すること
https://github.com/DeterminateSystems/nix-installer/issues/888

*** インストール操作
#+begin_src shell
  # determinate版をインストールするか最初に聞かれるのでnoを指定。その後、続行するか聞かれるのでYesを指定
  curl -fsSL https://install.determinate.systems/nix | sh -s -- install
  nix-shell -p git
  # あとで設定入れたらsshに切り替えるが、まずはhttpsで
  git clone https://github.com/nakazye/nix-config.git
  exit
  # Homebrewのインストール
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  # Unexpected files in /etc, aborting activationが出たら以下を実行
  sudo mv /etc/zshrc /etc/zshrc.bk
  sudo mv /etc/zprofile /etc/zprofile.bk
  # 設定の読み込み
  sudo nix run nix-darwin -- switch --flake ~/nix-config#privateMac
  nix run home-manager -- switch --flake ~/nix-config#nakazye@privateMac
#+end_src

** WSL環境
*** powershell上での操作

- [[https://github.com/nix-community/NixOS-WSL/releases][NixOS-WSL]]から最新のnixos-wsl.tar.gzをダウンロード
- ファイルを作成する場所を指定してイメージをインポート
- デフォルトで起動するwslをNixOSに
  
#+begin_src shell
  wsl --import NixOS $env:USERPROFILE\NixOS\ ./nixos-wsl.tar.gz --version 2
  wsl -s NixOS
#+end_src

**** その他もろもろ
[[https://zenn.dev/tositada/books/1c1564531ec8fc][nixos入門: wslで使うnixos]]を参考に諸々設定

**** WSLでの日本語入力
[[https://qiita.com/feles-ao42/items/fcb507dab03db5de067d][NIX OS入門]]をにも説明があるが、うまく動作せず(fcitx5がmozc認識してくれなかったり)
結局、Emacsから直接mozc見るようにして、Emacsの中だけ日本語が使える様に設定

